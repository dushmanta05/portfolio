---
import type { CollectionEntry } from 'astro:content';

interface Props {
  project: CollectionEntry<'blog'>;
}

const { data, slug } = Astro.props.project;
---

<a class='card' href={`/blog/${slug}`}>
  <span class='title'>{data.title}</span>
  <img
    src={data.img}
    alt={data.img_alt || ''}
    loading='lazy'
    decoding='async'
  />
</a>

<style>
  .card {
    @apply grid grid-rows-[auto_1fr] grid-cols-[auto_1fr] h-[11rem] rounded-xl overflow-hidden no-underline font-medium text-lg;

    background: var(--gradient-subtle);
    border: 1px solid var(--gray-800);
    box-shadow: var(--shadow-sm);
    font-family: var(--font-brand);
    transition: box-shadow var(--theme-transition);
  }

  .card:hover {
    @apply shadow-md;
  }

  .title {
    @apply rounded-[0.375rem] z-[1] m-2 py-2 px-4 text-gray-200 bg-gray-999;
    grid-area: 1 / 1 / 2 / 2;
  }

  img {
    @apply w-full h-full object-cover;
    grid-area: 1 / 1 / 3 / 3;
  }

  @media (min-width: 50em) {
    .card {
      @apply rounded-3xl h-[22em];
    }

    .title {
      @apply rounded-[0.9375rem];
    }
  }
</style>
